# Basic tmux configuration
set -g prefix C-s
unbind C-b
bind-key C-s send-prefix

# Enable mouse mode
set -g mouse on

# Start windows and panes at 1, not 0
set -g base-index 1
setw -g pane-base-index 1

# Vim-aware pane navigation
set -g @is_vim "ps -o state= -o comm= -t '#{pane_tty}' | grep -iqE '^[^TXZ ]+ +(\\S*\\/)?(g?(view|l?n?vim?x?|fzf))(diff)?$'"
bind -n C-h if-shell "#{@is_vim}" "send-keys C-h" "select-pane -L"
bind -n C-j if-shell "#{@is_vim}" "send-keys C-j" "select-pane -D"
bind -n C-k if-shell "#{@is_vim}" "send-keys C-k" "select-pane -U"
bind -n C-l if-shell "#{@is_vim}" "send-keys C-l" "select-pane -R"

# Reload config
bind r source-file ~/.config/tmux/tmux.conf \; display-message "Config reloaded!"
